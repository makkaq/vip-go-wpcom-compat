!function(t,e){function n(){C=L=T=_=P=k=B}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(t){return parseFloat(t)||0}function r(){j={top:e.pageYOffset,left:e.pageXOffset}}function s(){return e.pageXOffset!=j.left?(r(),void T()):void(e.pageYOffset!=j.top&&(r(),l()))}function a(t){setTimeout(function(){e.pageYOffset!=j.top&&(j.top=e.pageYOffset,l())},0)}function l(){for(var t=D.length-1;t>=0;t--)f(D[t])}function f(t){if(t.inited){var e=j.top<=t.limit.start?0:j.top>=t.limit.end?2:1;t.mode!=e&&g(t,e)}}function h(){for(var t=D.length-1;t>=0;t--)if(D[t].inited){var e=Math.abs(b(D[t].clone)-D[t].docOffsetTop),n=Math.abs(D[t].parent.node.offsetHeight-D[t].parent.height);if(e>=2||n>=2)return!1}return!0}function d(t){isNaN(parseFloat(t.computed.top))||t.isCell||"none"==t.computed.display||(t.inited=!0,t.clone||m(t),"absolute"!=t.parent.computed.position&&"relative"!=t.parent.computed.position&&(t.parent.node.style.position="relative"),f(t),t.parent.height=t.parent.node.offsetHeight,t.docOffsetTop=b(t.clone))}function p(t){var e=!0;t.clone&&v(t),o(t.node.style,t.css);for(var n=D.length-1;n>=0;n--)if(D[n].node!==t.node&&D[n].parent.node===t.parent.node){e=!1;break}e&&(t.parent.node.style.position=t.parent.css.position),t.mode=-1}function c(){for(var t=D.length-1;t>=0;t--)d(D[t])}function u(){for(var t=D.length-1;t>=0;t--)p(D[t])}function g(t,e){var n=t.node.style;switch(e){case 0:n.position="absolute",n.left=t.offset.left+"px",n.right=t.offset.right+"px",n.top=t.offset.top+"px",n.bottom="auto",n.width="auto",n.marginLeft=0,n.marginRight=0,n.marginTop=0;break;case 1:n.position="fixed",n.left=t.box.left+"px",n.right=t.box.right+"px",n.top=t.css.top,n.bottom="auto",n.width="auto",n.marginLeft=0,n.marginRight=0,n.marginTop=0;break;case 2:n.position="absolute",n.left=t.offset.left+"px",n.right=t.offset.right+"px",n.top="auto",n.bottom=0,n.width="auto",n.marginLeft=0,n.marginRight=0}t.mode=e}function m(t){t.clone=document.createElement("div");var e=t.node.nextSibling||t.node,n=t.clone.style;n.height=t.height+"px",n.width=t.width+"px",n.marginTop=t.computed.marginTop,n.marginBottom=t.computed.marginBottom,n.marginLeft=t.computed.marginLeft,n.marginRight=t.computed.marginRight,n.padding=n.border=n.borderSpacing=0,n.fontSize="1em",n.position="static",n.cssFloat=t.computed.cssFloat,t.node.parentNode.insertBefore(t.clone,e)}function v(t){t.clone.parentNode.removeChild(t.clone),t.clone=void 0}function y(t){var e=getComputedStyle(t),n=t.parentNode,o=getComputedStyle(n),r=t.style.position;t.style.position="relative";var s={top:e.top,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,cssFloat:e.cssFloat,display:e.display},a={top:i(e.top),marginBottom:i(e.marginBottom),paddingLeft:i(e.paddingLeft),paddingRight:i(e.paddingRight),borderLeftWidth:i(e.borderLeftWidth),borderRightWidth:i(e.borderRightWidth)};t.style.position=r;var l={position:t.style.position,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight},f=w(t),h=w(n),d={node:n,css:{position:n.style.position},computed:{position:o.position},numeric:{borderLeftWidth:i(o.borderLeftWidth),borderRightWidth:i(o.borderRightWidth),borderTopWidth:i(o.borderTopWidth),borderBottomWidth:i(o.borderBottomWidth)}},p={node:t,box:{left:f.win.left,right:M.clientWidth-f.win.right},offset:{top:f.win.top-h.win.top-d.numeric.borderTopWidth,left:f.win.left-h.win.left-d.numeric.borderLeftWidth,right:-f.win.right+h.win.right-d.numeric.borderRightWidth},css:l,isCell:"table-cell"==e.display,computed:s,numeric:a,width:f.win.right-f.win.left,height:f.win.bottom-f.win.top,mode:-1,inited:!1,parent:d,limit:{start:f.doc.top-a.top,end:h.doc.top+n.offsetHeight-d.numeric.borderBottomWidth-t.offsetHeight-a.top-a.marginBottom}};return p}function b(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}function w(t){var n=t.getBoundingClientRect();return{doc:{top:n.top+e.pageYOffset,left:n.left+e.pageXOffset},win:n}}function x(){A=setInterval(function(){!h()&&T()},500)}function O(){clearInterval(A)}function E(){W&&(document[H]?O():x())}function C(){W||(r(),c(),e.addEventListener("scroll",s),e.addEventListener("wheel",a),e.addEventListener("resize",T),e.addEventListener("orientationchange",T),t.addEventListener(N,E),x(),W=!0)}function T(){if(W){u();for(var t=D.length-1;t>=0;t--)D[t]=y(D[t].node);c()}}function _(){e.removeEventListener("scroll",s),e.removeEventListener("wheel",a),e.removeEventListener("resize",T),e.removeEventListener("orientationchange",T),t.removeEventListener(N,E),O(),W=!1}function P(){_(),u()}function k(){for(P();D.length;)D.pop()}function L(t){for(var e=D.length-1;e>=0;e--)if(D[e].node===t)return;var n=y(t);D.push(n),W?d(n):C()}function S(t){for(var e=D.length-1;e>=0;e--)D[e].node===t&&(p(D[e]),D.splice(e,1))}var j,A,D=[],W=!1,M=t.documentElement,B=function(){},H="hidden",N="visibilitychange";void 0!==t.webkitHidden&&(H="webkitHidden",N="webkitvisibilitychange"),e.getComputedStyle||n();for(var R=["","-webkit-","-moz-","-ms-"],z=document.createElement("div"),I=R.length-1;I>=0;I--){try{z.style.position=R[I]+"sticky"}catch(F){}""!=z.style.position&&n()}r(),e.Stickyfill={stickies:D,add:L,remove:S,init:C,rebuild:T,pause:_,stop:P,kill:k}}(document,window),window.jQuery&&!function(t){t.fn.Stickyfill=function(t){return this.each(function(){Stickyfill.add(this)}),this}}(window.jQuery),function(t){if("function"==typeof define&&define.amd){if("undefined"!=typeof requirejs){var e="[history"+(new Date).getTime()+"]",n=requirejs.onError;t.toString=function(){return e},requirejs.onError=function(t){t.message.indexOf(e)===-1&&n.call(requirejs,t)}}define([],t)}return"object"!=typeof exports||"undefined"==typeof module?t():void(module.exports=t())}(function(){function t(){}function e(t,n,o){var i=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(null==t||""===t||n)t=n?t:C.href,L&&!o||(t=t.replace(/^[^#]*/,"")||"#",t=C.protocol.replace(/:.*$|$/,":")+"//"+C.host+z.basepath+t.replace(new RegExp("^#[/]?(?:"+z.type+")?"),""));else{var r=e(),s=w.getElementsByTagName("base")[0];!o&&s&&s.getAttribute("href")&&(s.href=s.href,r=e(s.href,null,!0));var a=r._pathname,l=r._protocol;t=""+t,t=/^(?:\w+\:)?\/\//.test(t)?0===t.indexOf("/")?l+t:t:l+"//"+r._host+(0===t.indexOf("/")?t:0===t.indexOf("?")?a+t:0===t.indexOf("#")?a+r._search+t:a.replace(/[^\/]+$/g,"")+t)}F.href=t;var f=i.exec(F.href),h=f[2]+(f[3]?":"+f[3]:""),d=f[4]||"/",p=f[5]||"",c="#"===f[6]?"":f[6]||"",u=d+p+c,g=d.replace(new RegExp("^"+z.basepath,"i"),z.type)+p;return{_href:f[1]+"//"+h+u,_protocol:f[1],_host:h,_hostname:f[2],_port:f[3]||"",_pathname:d,_search:p,_hash:c,_relative:u,_nohash:g,_special:g+c}}function n(){var t=y.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&!!P}function o(){var t;try{t=y.sessionStorage,t.setItem(I+"t","1"),t.removeItem(I+"t")}catch(e){t={getItem:function(t){var e=w.cookie.split(t+"=");return e.length>1&&e.pop().split(";").shift()||"null"},setItem:function(t,e){var n={};(n[C.href]=_.state)&&(w.cookie=t+"="+E.stringify(n))}}}try{$=E.parse(t.getItem(I))||{}}catch(e){$={}}H(D+"unload",function(){t.setItem(I,E.stringify($))},!1)}function i(e,n,o,i){var r=0;o||(o={set:t},r=1);var s=!o.set,a=!o.get,l={configurable:!0,set:function(){s=1},get:function(){a=1}};try{j(e,n,l),e[n]=e[n],j(e,n,o)}catch(f){}if(!(s&&a||(e.__defineGetter__&&(e.__defineGetter__(n,l.get),e.__defineSetter__(n,l.set),e[n]=e[n],o.get&&e.__defineGetter__(n,o.get),o.set&&e.__defineSetter__(n,o.set)),s&&a))){if(r)return!1;if(e===y){try{var h=e[n];e[n]=null}catch(f){}if("execScript"in y)y.execScript("Public "+n,"VBScript"),y.execScript("var "+n+";","JavaScript");else try{j(e,n,{value:t})}catch(f){"onpopstate"===n&&(H("popstate",o=function(){N("popstate",o,!1);var t=e.onpopstate;e.onpopstate=null,setTimeout(function(){e.onpopstate=t},1)},!1),X=0)}e[n]=h}else try{try{var d=O.create(e);j(O.getPrototypeOf(d)===e?d:e,n,o);for(var p in e)"function"==typeof e[p]&&(d[p]=e[p].bind(e));try{i.call(d,d,e)}catch(f){}e=d}catch(f){j(e.constructor.prototype,n,o)}}catch(f){return!1}}return e}function r(t,e,n){return n=n||{},t=t===tt?C:t,n.set=n.set||function(n){t[e]=n},n.get=n.get||function(){return t[e]},n}function s(t,e,n){t in G?G[t].push(e):arguments.length>3?H(t,e,n,arguments[3]):H(t,e,n)}function a(t,e,n){var o=G[t];if(o){for(var i=o.length;i--;)if(o[i]===e){o.splice(i,1);break}}else N(t,e,n)}function l(e,n){var o=(""+("string"==typeof e?e:e.type)).replace(/^on/,""),r=G[o];if(r){if(n="string"==typeof e?n:e,null==n.target)for(var s=["target","currentTarget","srcElement","type"];e=s.pop();)n=i(n,e,{get:"type"===e?function(){return o}:function(){return y}});X&&(("popstate"===o?y.onpopstate:y.onhashchange)||t).call(y,n);for(var a=0,l=r.length;a<l;a++)r[a].call(y,n);return!0}return R(e,n)}function f(){var t=w.createEvent?w.createEvent("Event"):w.createEventObject();t.initEvent?t.initEvent("popstate",!1,!1):t.type="popstate",t.state=_.state,l(t)}function h(){V&&(V=!1,f())}function d(t,n,o,i){if(L)Y=C.href;else{0===U&&(U=2);var r=e(n,2===U&&(""+n).indexOf("#")!==-1);r._relative!==e()._relative&&(Y=i,o?C.replace("#"+r._special):C.hash=r._special)}!S&&t&&($[C.href]=t),V=!1}function p(t){var n=Y;if(Y=C.href,n){q!==C.href&&f(),t=t||y.event;var o=e(n,!0),i=e();t.oldURL||(t.oldURL=o._href,t.newURL=i._href),o._hash!==i._hash&&l(t)}}function c(t){setTimeout(function(){H("popstate",function(t){q=C.href,S||(t=i(t,"state",{get:function(){return _.state}})),l(t)},!1)},0),!L&&t!==!0&&"location"in _&&(m(A.hash),h())}function u(t){for(;t;){if("A"===t.nodeName)return t;t=t.parentNode}}function g(t){var n=t||y.event,o=u(n.target||n.srcElement),i="defaultPrevented"in n?n.defaultPrevented:n.returnValue===!1;if(o&&"A"===o.nodeName&&!i){var r=e(),s=e(o.getAttribute("href",2)),a=r._href.split("#").shift()===s._href.split("#").shift();a&&s._hash&&(r._hash!==s._hash&&(A.hash=s._hash),m(s._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function m(t){var e=w.getElementById(t=(t||"").replace(/^#/,""));if(e&&e.id===t&&"A"===e.nodeName){var n=e.getBoundingClientRect();y.scrollTo(x.scrollLeft||0,n.top+(x.scrollTop||0)-(x.clientTop||0))}}function v(){var t=w.getElementsByTagName("script"),n=(t[t.length-1]||{}).src||"",s=n.indexOf("?")!==-1?n.split("?").pop():"";s.replace(/(\w+)(?:=([^&]*))?/g,function(t,e,n){z[e]=(n||"").replace(/^(0|false)$/,"")}),H(D+"hashchange",p,!1);var a=[tt,A,J,y,K,_];S&&delete K.state;for(var l=0;l<a.length;l+=2)for(var f in a[l])if(a[l].hasOwnProperty(f))if("object"!=typeof a[l][f])a[l+1][f]=a[l][f];else{var h=r(a[l],f,a[l][f]);if(!i(a[l+1],f,h,function(t,e){e===_&&(y.history=_=a[l+1]=t)}))return N(D+"hashchange",p,!1),!1;a[l+1]===y&&(G[f]=G[f.substr(2)]=[])}return _.setup(),z.redirect&&_.redirect(),z.init&&(U=1),!S&&E&&o(),L||w[W](D+"click",g,!1),"complete"===w.readyState?c(!0):(L||e()._relative===z.basepath||(V=!0),H(D+"load",c,!1)),!0}var y=("object"==typeof window?window:this)||{};if(!y.history||"emulate"in y.history)return y.history;var b,w=y.document,x=w.documentElement,O=y.Object,E=y.JSON,C=y.location,T=y.history,_=T,P=T.pushState,k=T.replaceState,L=n(),S="state"in T,j=O.defineProperty,A=i({},"t")?{}:w.createElement("a"),D="",W=y.addEventListener?"addEventListener":(D="on")&&"attachEvent",M=y.removeEventListener?"removeEventListener":"detachEvent",B=y.dispatchEvent?"dispatchEvent":"fireEvent",H=y[W],N=y[M],R=y[B],z={basepath:"/",redirect:0,type:"/",init:0},I="__historyAPI__",F=w.createElement("a"),Y=C.href,q="",X=1,V=!1,U=0,$={},G={},Q=w.title,J={onhashchange:null,onpopstate:null},Z=function(t,e){var n=y.history!==T;n&&(y.history=T),t.apply(T,e),n&&(y.history=_)},K={setup:function(t,e,n){z.basepath=(""+(null==t?z.basepath:t)).replace(/(?:^|\/)[^\/]*$/,"/"),z.type=null==e?z.type:e,z.redirect=null==n?z.redirect:!!n},redirect:function(t,n){if(_.setup(n,t),n=z.basepath,y.top==y.self){var o=e(null,!1,!0)._relative,i=C.pathname+C.search;L?(i=i.replace(/([^\/])$/,"$1/"),o!=n&&new RegExp("^"+n+"$","i").test(i)&&C.replace(o)):i!=n&&(i=i.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(i)&&C.replace(n+"#"+i.replace(new RegExp("^"+n,"i"),z.type)+C.hash))}},pushState:function(t,e,n){var o=w.title;null!=Q&&(w.title=Q),P&&Z(P,arguments),d(t,n),w.title=o,Q=e},replaceState:function(t,e,n){var o=w.title;null!=Q&&(w.title=Q),delete $[C.href],k&&Z(k,arguments),d(t,n,!0),w.title=o,Q=e},location:{set:function(t){0===U&&(U=1),y.location=t},get:function(){return 0===U&&(U=1),A}},state:{get:function(){return"object"==typeof $[C.href]?E.parse(E.stringify($[C.href])):"undefined"!=typeof $[C.href]?$[C.href]:null}}},tt={assign:function(t){L||0!==(""+t).indexOf("#")?C.assign(t):d(null,t)},reload:function(t){C.reload(t)},replace:function(t){L||0!==(""+t).indexOf("#")?C.replace(t):d(null,t,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==b?b:C.origin?C.origin:C.protocol+"//"+C.hostname+(C.port?":"+C.port:"")},set:function(t){b=t}},href:L?null:{get:function(){return e()._href}},protocol:null,host:null,hostname:null,port:null,pathname:L?null:{get:function(){return e()._pathname}},search:L?null:{get:function(){return e()._search}},hash:L?null:{set:function(t){d(null,(""+t).replace(/^(#|)/,"#"),!1,Y)},get:function(){return e()._hash}}};return v()?(_.emulate=!L,y[W]=s,y[M]=a,y[B]=l,_):void 0}),function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var n,o=document.createElement(t||"div");for(n in e)o[n]=e[n];return o}function e(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,o){var i=["opacity",e,~~(100*t),n,o].join("-"),r=.01+n/o*100,s=Math.max(1-(1-t)/e*(100-r),t),a=f.substring(0,f.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[i]||(h.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",h.cssRules.length),p[i]=1),i}function o(t,e){var n,o,i=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==i[e])return e;for(o=0;o<d.length;o++)if(n=d[o]+e,void 0!==i[n])return n}function i(t,e){for(var n in e)t.style[o(t,n)||n]=e[n];return t}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)void 0===t[o]&&(t[o]=n[o])}return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=r(t||{},a.defaults,c)}function l(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}h.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,o){function r(){return i(n("group",{coordsize:h+" "+h,coordorigin:-f+" "+-f}),{width:h,height:h})}function a(t,a,l){e(p,e(i(r(),{rotation:360/o.lines*t+"deg",left:~~a}),e(i(n("roundrect",{arcsize:o.corners}),{width:f,height:o.scale*o.width,left:o.scale*o.radius,top:-o.scale*o.width>>1,filter:l}),n("fill",{color:s(o.color,t),opacity:o.opacity}),n("stroke",{opacity:0}))))}var l,f=o.scale*(o.length+o.width),h=2*o.scale*f,d=-(o.width+o.length)*o.scale*2+"px",p=i(r(),{position:"absolute",top:d,left:d});if(o.shadow)for(l=1;l<=o.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=o.lines;l++)a(l);return e(t,p)},a.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=i.childNodes[e+o],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var f,h,d=["webkit","Moz","ms","O"],p={},c={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},r(a.prototype,{spin:function(e){this.stop();var n=this,o=n.opts,r=n.el=t(null,{className:o.className});if(i(r,{position:o.position,width:0,zIndex:o.zIndex,left:o.left,top:o.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!f){var s,a=0,l=(o.lines-1)*(1-o.direction)/2,h=o.fps,d=h/o.speed,p=(1-o.opacity)/(d*o.trail/100),c=d/o.lines;!function u(){a++;for(var t=0;t<o.lines;t++)s=Math.max(1-(a+(o.lines-t)*c)%d*p,o.opacity),n.opacity(r,t*o.direction+l,s,o);n.timeout=n.el&&setTimeout(u,~~(1e3/h))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,r){function a(e,n){return i(t(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*h+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var l,h=0,d=(r.lines-1)*(1-r.direction)/2;h<r.lines;h++)l=i(t(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:f&&n(r.opacity,r.trail,d+h*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,i(a("#000","0 0 4px #000"),{top:"2px"})),e(o,e(l,a(s(r.color,h),"0 0 1px rgba(0,0,0,.1)")));return o},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),"undefined"!=typeof document){h=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var u=i(t("group"),{behavior:"url(#default#VML)"});!o(u,"transform")&&u.adj?l():f=o(u,"animation")}return a}),function(t){if("object"==typeof exports)t(require("jquery"),require("spin.js"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],t);else{if(!window.Spinner)throw new Error("Spin.js not present");t(window.jQuery,window.Spinner)}}(function(t,e){t.fn.spin=function(n,o){return this.each(function(){var i=t(this),r=i.data();r.spinner&&(r.spinner.stop(),delete r.spinner),n!==!1&&(n=t.extend({color:o||i.css("color")},t.fn.spin.presets[n]||n),r.spinner=new e(n).spin(this))})},t.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});var PG8={};(function(t,e,n,o){"use strict";if("undefined"!=typeof PG8Data){var i=n.history.location||n.location,r=this.PageLoader=function(e){this.thisLink=i.href,this.nextLink=PG8Data.nextLink,this.thisPage=parseInt(PG8Data.startPage,10),this.nextPage=this.thisPage+1,this.maxPages=parseInt(PG8Data.maxPages,10),this.maxedOut=0,this.opts=t.extend({},t.fn.ajaxPageLoader.defaults,e),this.content=t(this.opts.content),this.nextPage<=this.maxPages&&this.init()};r.prototype={init:function(){this.content.children().wrapAll('<div id="content-page-'+parseInt(this.thisPage,10)+'" class="clear" data-href="'+encodeURI(this.thisLink)+'"></div>'),this.holder(),this.handler(),this.spinner()},holder:function(){this.content.append('<div id="content-page-'+parseInt(this.nextPage,10)+'" class="clear" data-href="'+encodeURI(this.nextLink)+'"></div>')},handler:function(){var o=this,i=t(n);t("body").on("click",o.opts.next,function(e){o.nextPage<=o.maxPages&&(e.preventDefault(),t(this).parents("nav:first").before(t("#spinner").show()),o.loader(o.nextPage,o.nextLink))}),i.on("scroll",this.content,function(n){clearTimeout(t.data(this,"pushTimer")),clearTimeout(t.data(this,"infinTimer")),t.data(this,"pushTimer",setTimeout(function(){var e=o.content.children(":first"),n=e.offset().top,r=e.data("href"),s=i.scrollTop();s<=n?o.pusher(r):o.content.children().each(function(){var e=t(this),n=e.offset().top-o.opts.scrollOffset,i=e.outerHeight()+n;n<=s&&s<i&&o.pusher(e.data("href"))})},o.opts.pushDelay)),0===o.maxedOut&&o.opts.infinScroll===!0&&t.data(this,"infinTimer",setTimeout(function(){var n=t(e),r=n.height(),s=i.height()+i.scrollTop(),a=o.content.children(":last").offset().top,l=r-s;s>a+o.opts.scrollOffset&&s<=a+o.opts.scrollOffset+o.opts.infinOffset&&l>=o.opts.infinFooter&&t(o.opts.next).trigger("click")},o.opts.infinDelay))})},spinner:function(){t.isFunction(n.Spinner)&&(this.content.after('<div id="spinner" style="position: relative;"></div>'),t("#spinner").spin(this.opts.spinOpts).hide())},pusher:function(t){"undefined"!=typeof t&&t!==i.href&&history.pushState(null,null,t)},loader:function(e,n){var o=this;t("#content-page-"+e).load(n+" "+o.opts.content+" > *",function(){var r=t(o.opts.next);o.thisPage=e,o.thisLink=n,o.nextPage=e+1,o.nextLink=n.replace(/\/page\/[0-9]*/,"/page/"+o.nextPage),o.pusher(o.thisLink),o.holder(),o.nextPage>o.maxPages?(r.remove(),o.maxedOut=1):r.is("[href]")?r.attr("href",o.nextLink):t("[href]",r).attr("href",o.nextLink),t("#spinner").hide(),t(o.opts.prev).hide(),o.loaded(),o.scroll(),o.analytics("/"+i.href.replace(o.root(),""))})},loaded:function(){var t=e.createEvent("Event");t.initEvent("DOMContentLoaded",!0,!0),n.document.dispatchEvent(t)},scroll:function(){var e=t("#content-page-"+this.thisPage).children(":first").offset().top-this.opts.scrollOffset;t("body, html").animate({scrollTop:e},this.opts.scrollDelay,"swing")},analytics:function(t){"undefined"!=typeof n.ga?n.ga("send","pageview",t):"undefined"!=typeof n._gaq&&n._gaq.push(["_trackPageview",t])},root:function(){var t=e.location.port?":"+e.location.port:"",n=e.location.protocol+"//"+(e.location.hostname||e.location.host)+t+"/";return n}},t.fn.ajaxPageLoader=function(e){return this.each(function(){t.data(this,"ajaxPageLoader")||t.data(this,"ajaxPageLoader",new r(e))})},t.fn.ajaxPageLoader.defaults={content:"main",next:".next-page",prev:".prev-page",scrollDelay:300,scrollOffset:30,pushDelay:250,infinScroll:!0,infinDelay:600,infinOffset:300,infinFooter:1,spinOpts:{lines:25,length:0,width:4,radius:25,speed:1.5,trail:40,top:"15px"}}}}).apply(PG8,[jQuery,document,window]),!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.getBoundingClientRect(),n={};for(var o in e)n[o]=e[o];if(t.ownerDocument!==document){var r=t.ownerDocument.defaultView.frameElement;if(r){var s=i(r);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function r(t){var e=getComputedStyle(t)||{},n=e.position,o=[];if("fixed"===n)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(s){}if("undefined"==typeof r||null===r)return o.push(i),o;var a=r,l=a.overflow,f=a.overflowX,h=a.overflowY;/(auto|scroll)/.test(l+h+f)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(r.position)>=0)&&o.push(i)}return o.push(t.ownerDocument.body),t.ownerDocument!==document&&o.push(t.ownerDocument.defaultView),o}function s(){T&&document.body.removeChild(T),T=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,o=i(t),r=k();return o.top-=r.top,o.left-=r.left,"undefined"==typeof o.width&&(o.width=document.body.scrollWidth-o.left-o.right),"undefined"==typeof o.height&&(o.height=document.body.scrollHeight-o.top-o.bottom),o.top=o.top-n.clientTop,o.left=o.left-n.clientLeft,o.right=e.body.clientWidth-o.width-o.left,o.bottom=e.body.clientHeight-o.height-o.top,o}function l(t){return t.offsetParent||document.documentElement}function f(){if(L)return L;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");h(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;n===o&&(o=e.clientWidth),document.body.removeChild(e);var i=n-o;return L={width:i,height:i}}function h(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function d(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),o=u(t).replace(n," ");g(t,o)}}function p(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{d(t,e);var n=u(t)+(" "+e);g(t,n)}}function c(t,e){if("undefined"!=typeof t.classList)return t.classList.contains(e);var n=u(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function u(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,n){n.forEach(function(n){e.indexOf(n)===-1&&c(t,n)&&d(t,n)}),e.forEach(function(e){c(t,e)||p(t,e)})}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function w(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.forEach(function(e){var n=e.top,o=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof o&&(o=parseFloat(o,10)),t.top+=n,t.left+=o}),t}function x(t,e){return"string"==typeof t.left&&t.left.indexOf("%")!==-1&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&t.top.indexOf("%")!==-1&&(t.top=parseFloat(t.top,10)/100*e.height),t}function O(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!=typeof e.nodeType&&!function(){var t=e,n=a(e),o=n,i=getComputedStyle(e);if(e=[o.left,o.top,n.width+o.left,n.height+o.top],t.ownerDocument!==document){var r=t.ownerDocument.defaultView;e[0]+=r.pageXOffset,e[1]+=r.pageYOffset,e[2]+=r.pageXOffset,e[3]+=r.pageYOffset}G.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(i["border"+t+"Width"]):e[n]-=parseFloat(i["border"+t+"Width"])})}(),e}var E=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),C=void 0;"undefined"==typeof C&&(C={modules:[]});var T=null,_=function(){var t=0;return function(){return++t}}(),P={},k=function(){var t=T;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",_()),h(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),T=t);var e=t.getAttribute("data-tether-id");return"undefined"==typeof P[e]&&(P[e]=i(t),j(function(){delete P[e]})),P[e]},L=null,S=[],j=function(t){S.push(t)},A=function(){for(var t=void 0;t=S.pop();)t()},D=function(){function t(){o(this,t)}return E(t,[{key:"on",value:function(t,e,n){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:o})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[t])if("undefined"==typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if("undefined"!=typeof this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],s=r.handler,a=r.ctx,l=r.once,f=a;"undefined"==typeof f&&(f=this),s.apply(f,o),l?this.bindings[t].splice(e,1):++e}}}}]),t}();C.Utils={getActualBoundingClientRect:i,getScrollParents:r,getBounds:a,getOffsetParent:l,extend:h,addClass:p,removeClass:d,hasClass:c,updateClasses:m,defer:j,flush:A,uniqueId:_,Evented:D,getScrollBarSize:f,removeUtilElements:s};var W=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),M=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var f=Object.getPrototypeOf(i);if(null===f)return;t=f,e=r,n=s,o=!0,a=f=void 0}};if("undefined"==typeof C)throw new Error("You must include the utils.js file before tether.js");var B=C.Utils,r=B.getScrollParents,a=B.getBounds,l=B.getOffsetParent,h=B.extend,p=B.addClass,d=B.removeClass,m=B.updateClasses,j=B.defer,A=B.flush,f=B.getScrollBarSize,s=B.removeUtilElements,H=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var o=e[n];if(void 0!==t.style[o])return o}}(),N=[],R=function(){N.forEach(function(t){t.position(!1)}),A()};!function(){var t=null,e=null,n=null,o=function i(){return"undefined"!=typeof e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(i,250))):void("undefined"!=typeof t&&b()-t<10||(null!=n&&(clearTimeout(n),n=null),t=b(),R(),e=b()-t))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,o)})}();var z={center:"center",left:"right",right:"left"},I={middle:"middle",top:"bottom",bottom:"top"},F={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Y=function(t,e){var n=t.left,o=t.top;return"auto"===n&&(n=z[e.left]),"auto"===o&&(o=I[e.top]),{left:n,top:o}},q=function(t){var e=t.left,n=t.top;return"undefined"!=typeof F[t.left]&&(e=F[t.left]),"undefined"!=typeof F[t.top]&&(n=F[t.top]),{left:e,top:n}},X=function(t){var e=t.split(" "),n=W(e,2),o=n[0],i=n[1];return{top:o,left:i}},V=X,U=function(t){function e(t){var n=this;o(this,e),M(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),N.push(this),this.history=[],this.setOptions(t,!1),C.modules.forEach(function(t){"undefined"!=typeof t.initialize&&t.initialize.call(n)}),this.position()}return v(e,t),E(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",
targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=h(o,t);var i=this.options,s=i.element,a=i.target,l=i.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"==typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),p(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&p(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=V(this.options.targetAttachment),this.attachment=V(this.options.attachment),this.offset=X(this.options.offset),this.targetOffset=X(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=a(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(n);var o=getComputedStyle(n),i=n.scrollWidth>n.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||this.target!==document.body,r=0;i&&(r=15);var s=t.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-r,e={width:15,height:.975*s*(s/n.scrollHeight),left:t.left+t.width-parseFloat(o.borderLeftWidth)-15},l=0;s<408&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var f=this.target.scrollTop/(n.scrollHeight-s);return e.top=f*(s-e.height-l)+t.top+parseFloat(o.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&p(this.target,this.getClass("enabled")),p(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),N.forEach(function(e,n){e===t&&N.splice(n,1)}),0===N.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var o=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var r=[];o.forEach(function(t){r.push(n.getClass("element-attached")+"-"+t),r.push(n.getClass("target-attached")+"-"+t)}),j(function(){"undefined"!=typeof n._addAttachClasses&&(m(n.element,n._addAttachClasses,r),n.options.addTargetClasses!==!1&&m(n.target,n._addAttachClasses,r),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=Y(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var o=this.cache("element-bounds",function(){return a(t.element)}),i=o.width,r=o.height;if(0===i&&0===r&&"undefined"!=typeof this.lastSize){var s=this.lastSize;i=s.width,r=s.height}else this.lastSize={width:i,height:r};var h=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=h,p=x(q(this.attachment),{width:i,height:r}),c=x(q(n),d),u=x(this.offset,{width:i,height:r}),g=x(this.targetOffset,d);p=w(p,u),c=w(c,g);for(var m=h.left+c.left-p.left,v=h.top+c.top-p.top,y=0;y<C.modules.length;++y){var b=C.modules[y],O=b.position.call(this,{left:m,top:v,targetAttachment:n,targetPos:h,elementPos:o,offset:p,targetOffset:c,manualOffset:u,manualTargetOffset:g,scrollbarSize:P,attachment:this.attachment});if(O===!1)return!1;"undefined"!=typeof O&&"object"==typeof O&&(v=O.top,m=O.left)}var E={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-r+innerHeight,left:m-pageXOffset,right:pageXOffset-m-i+innerWidth}},T=this.target.ownerDocument,_=T.defaultView,P=void 0;return _.innerHeight>T.documentElement.clientHeight&&(P=this.cache("scrollbar-size",f),E.viewport.bottom-=P.height),_.innerWidth>T.documentElement.clientWidth&&(P=this.cache("scrollbar-size",f),E.viewport.right-=P.width),["","static"].indexOf(T.body.style.position)!==-1&&["","static"].indexOf(T.body.parentElement.style.position)!==-1||(E.page.bottom=T.body.scrollHeight-v-r,E.page.right=T.body.scrollWidth-m-i),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return a(e)}),o=getComputedStyle(e),i=n,r={};if(["Top","Left","Bottom","Right"].forEach(function(t){r[t.toLowerCase()]=parseFloat(o["border"+t+"Width"])}),n.right=T.body.scrollWidth-n.left-i.width+r.right,n.bottom=T.body.scrollHeight-n.top-i.height+r.bottom,E.page.top>=n.top+r.top&&E.page.bottom>=n.bottom&&E.page.left>=n.left+r.left&&E.page.right>=n.right){var s=e.scrollTop,f=e.scrollLeft;E.offset={top:E.page.top-n.top+s-r.top,left:E.page.left-n.left+f-r.left}}}(),this.move(E),this.history.unshift(E),this.history.length>3&&this.history.pop(),e&&A(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var o in t){n[o]={};for(var i in t[o]){for(var r=!1,s=0;s<this.history.length;++s){var a=this.history[s];if("undefined"!=typeof a[o]&&!y(a[o][i],t[o][i])){r=!0;break}}r||(n[o][i]=!0)}}var f={top:"",left:"",right:"",bottom:""},d=function(t,n){var o="undefined"!=typeof e.options.optimizations,i=o?e.options.optimizations.gpu:null;if(i!==!1){var r=void 0,s=void 0;if(t.top?(f.top=0,r=n.top):(f.bottom=0,r=-n.bottom),t.left?(f.left=0,s=n.left):(f.right=0,s=-n.right),window.matchMedia){var a=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;a||(s=Math.round(s),r=Math.round(r))}f[H]="translateX("+s+"px) translateY("+r+"px)","msTransform"!==H&&(f[H]+=" translateZ(0)")}else t.top?f.top=n.top+"px":f.bottom=n.bottom+"px",t.left?f.left=n.left+"px":f.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(f.position="absolute",d(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(f.position="fixed",d(n.viewport,t.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){f.position="absolute";var o=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==o&&j(function(){e.element.parentNode.removeChild(e.element),o.appendChild(e.element)}),d(n.offset,t.offset),p=!0}():(f.position="absolute",d({top:!0,left:!0},t.page)),!p)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var c=!0,u=this.element.parentNode;u&&1===u.nodeType&&"BODY"!==u.tagName;){if("static"!==getComputedStyle(u).position){c=!1;break}u=u.parentNode}c||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var i in f){var v=f[i],b=this.element.style[i];b!==v&&(m=!0,g[i]=v)}m&&j(function(){h(e.element.style,g),e.trigger("repositioned")})}}}]),e}(D);U.modules=[],C.position=R;var $=h(U,C),W=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=C.Utils,a=B.getBounds,h=B.extend,m=B.updateClasses,j=B.defer,G=["left","top","right","bottom"];C.modules.push({position:function(t){var e=this,n=t.top,o=t.left,i=t.targetAttachment;if(!this.options.constraints)return!0;var r=this.cache("element-bounds",function(){return a(e.element)}),s=r.height,l=r.width;if(0===l&&0===s&&"undefined"!=typeof this.lastSize){var f=this.lastSize;l=f.width,s=f.height}var d=this.cache("target-bounds",function(){return e.getTargetBounds()}),p=d.height,c=d.width,u=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&u.push(e),n&&u.push(n)}),u.forEach(function(t){["left","top","right","bottom"].forEach(function(e){u.push(t+"-"+e)})});var g=[],v=h({},i),y=h({},this.attachment);return this.options.constraints.forEach(function(t){var r=t.to,a=t.attachment,f=t.pin;"undefined"==typeof a&&(a="");var h=void 0,d=void 0;if(a.indexOf(" ")>=0){var u=a.split(" "),m=W(u,2);d=m[0],h=m[1]}else h=d=a;var b=O(e,r);"target"!==d&&"both"!==d||(n<b[1]&&"top"===v.top&&(n+=p,v.top="bottom"),n+s>b[3]&&"bottom"===v.top&&(n-=p,v.top="top")),"together"===d&&("top"===v.top&&("bottom"===y.top&&n<b[1]?(n+=p,v.top="bottom",n+=s,y.top="top"):"top"===y.top&&n+s>b[3]&&n-(s-p)>=b[1]&&(n-=s-p,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+s>b[3]?(n-=p,v.top="top",n-=s,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*s-p)<=b[3]&&(n+=s-p,v.top="top",y.top="top")),"middle"===v.top&&(n+s>b[3]&&"top"===y.top?(n-=s,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"))),"target"!==h&&"both"!==h||(o<b[0]&&"left"===v.left&&(o+=c,v.left="right"),o+l>b[2]&&"right"===v.left&&(o-=c,v.left="left")),"together"===h&&(o<b[0]&&"left"===v.left?"right"===y.left?(o+=c,v.left="right",o+=l,y.left="left"):"left"===y.left&&(o+=c,v.left="right",o-=l,y.left="right"):o+l>b[2]&&"right"===v.left?"left"===y.left?(o-=c,v.left="left",o-=l,y.left="right"):"right"===y.left&&(o-=c,v.left="left",o+=l,y.left="left"):"center"===v.left&&(o+l>b[2]&&"left"===y.left?(o-=l,y.left="right"):o<b[0]&&"right"===y.left&&(o+=l,y.left="left"))),"element"!==d&&"both"!==d||(n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"),n+s>b[3]&&"top"===y.top&&(n-=s,y.top="bottom")),"element"!==h&&"both"!==h||(o<b[0]&&("right"===y.left?(o+=l,y.left="left"):"center"===y.left&&(o+=l/2,y.left="left")),o+l>b[2]&&("left"===y.left?(o-=l,y.left="right"):"center"===y.left&&(o-=l/2,y.left="right"))),"string"==typeof f?f=f.split(",").map(function(t){return t.trim()}):f===!0&&(f=["top","left","right","bottom"]),f=f||[];var w=[],x=[];n<b[1]&&(f.indexOf("top")>=0?(n=b[1],w.push("top")):x.push("top")),n+s>b[3]&&(f.indexOf("bottom")>=0?(n=b[3]-s,w.push("bottom")):x.push("bottom")),o<b[0]&&(f.indexOf("left")>=0?(o=b[0],w.push("left")):x.push("left")),o+l>b[2]&&(f.indexOf("right")>=0?(o=b[2]-l,w.push("right")):x.push("right")),w.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),w.forEach(function(e){g.push(t+"-"+e)})}(),x.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),x.forEach(function(e){g.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(y.left=v.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(y.top=v.top=!1),v.top===i.top&&v.left===i.left&&y.top===e.attachment.top&&y.left===e.attachment.left||(e.updateAttachClasses(y,v),e.trigger("update",{attachment:y,targetAttachment:v}))}),j(function(){e.options.addTargetClasses!==!1&&m(e.target,g,u),m(e.element,g,u)}),{top:n,left:o}}});var B=C.Utils,a=B.getBounds,m=B.updateClasses,j=B.defer;C.modules.push({position:function(t){var e=this,n=t.top,o=t.left,i=this.cache("element-bounds",function(){return a(e.element)}),r=i.height,s=i.width,l=this.getTargetBounds(),f=n+r,h=o+s,d=[];n<=l.bottom&&f>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==o&&e!==h||d.push(t)}),o<=l.right&&h>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==n&&e!==f||d.push(t)});var p=[],c=[],u=["left","top","right","bottom"];return p.push(this.getClass("abutted")),u.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),d.length&&c.push(this.getClass("abutted")),d.forEach(function(t){c.push(e.getClass("abutted")+"-"+t)}),j(function(){e.options.addTargetClasses!==!1&&m(e.target,c,p),m(e.element,c,p)}),!0}});var W=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return C.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var o=this.options.shift;"function"==typeof this.options.shift&&(o=this.options.shift.call(this,{top:e,left:n}));var i=void 0,r=void 0;if("string"==typeof o){o=o.split(" "),o[1]=o[1]||o[0];var s=o,a=W(s,2);i=a[0],r=a[1],i=parseFloat(i,10),r=parseFloat(r,10)}else i=o.top,r=o.left;return e+=i,n+=r,{top:e,left:n}}}}),$}),!function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Drop=e(t.Tether)}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){var e=t.split(" "),n=a(e,2),o=n[0],i=n[1];if(["left","right"].indexOf(o)>=0){var r=[i,o];o=r[0],i=r[1]}return[o,i].join(" ")}function i(t,e){for(var n=void 0,o=[];-1!==(n=t.indexOf(e));)o.push(t.splice(n,1));return o}function r(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],h=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return new(s.apply(b,[null].concat(e)))};d(h,{createContext:r,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};d(h,v,a),d(h.defaults,v.defaults,a.defaults),"undefined"==typeof O[h.classPrefix]&&(O[h.classPrefix]=[]),h.updateBodyClasses=function(){for(var t=!1,e=O[h.classPrefix],n=e.length,o=0;n>o;++o)if(e[o].isOpened()){t=!0;break}t?p(document.body,h.classPrefix+"-open"):c(document.body,h.classPrefix+"-open")};var b=function(r){function s(t){if(e(this,s),f(Object.getPrototypeOf(s.prototype),"constructor",this).call(this),this.options=d({},h.defaults,t),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");var n="data-"+h.classPrefix,o=this.target.getAttribute(n);o&&null==this.options.content&&(this.options.content=o);for(var i=["position","openOn"],r=0;r<i.length;++r){var a=this.target.getAttribute(n+"-"+i[r]);a&&null==this.options[i[r]]&&(this.options[i[r]]=a)}this.options.classes&&this.options.addTargetClasses!==!1&&p(this.target,this.options.classes),h.drops.push(this),O[h.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return n(s,r),l(s,[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),p(this.drop,h.classPrefix),this.options.classes&&p(this.drop,this.options.classes),this.content=document.createElement("div"),p(this.content,h.classPrefix+"-content"),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!=typeof e)throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};e(),this.on("open",e.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var e=this.options.position.split(" ");e[0]=x[e[0]],e=e.join(" ");var n=[];this.options.constrainToScrollParent?n.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):n.push({to:"scrollParent"}),this.options.constrainToWindow!==!1?n.push({to:"window",attachment:"together"}):n.push({to:"window"});var i={element:this.drop,target:this.target,attachment:o(e),targetAttachment:o(this.options.position),classPrefix:h.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new t(d({},i,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(e),e.preventDefault()},o=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close(e))},i=0;i<m.length;++i){var r=m[i];this._on(this.target,r,n),this._on(document,r,o)}var s=null,a=null,l=function(e){null!==a?clearTimeout(a):s=setTimeout(function(){t.open(e),s=null},("focus"===e.type?t.options.focusDelay:t.options.hoverOpenDelay)||t.options.openDelay)},f=function(e){null!==s?clearTimeout(s):a=setTimeout(function(){t.close(e),a=null},("blur"===e.type?t.options.blurDelay:t.options.hoverCloseDelay)||t.options.closeDelay)};e.indexOf("hover")>=0&&(this._on(this.target,"mouseover",l),this._on(this.drop,"mouseover",l),this._on(this.target,"mouseout",f),this._on(this.drop,"mouseout",f)),e.indexOf("focus")>=0&&(this._on(this.target,"focus",l),this._on(this.drop,"focus",l),this._on(this.target,"blur",f),this._on(this.drop,"blur",f))}}},{key:"isOpened",value:function(){return this.drop?u(this.drop,h.classPrefix+"-open"):void 0}},{key:"toggle",value:function(t){this.isOpened()?this.close(t):this.open(t)}},{key:"open",value:function(t){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),p(this.drop,h.classPrefix+"-open"),p(this.drop,h.classPrefix+"-open-transitionend"),setTimeout(function(){e.drop&&p(e.drop,h.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),h.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(t){t.target===t.currentTarget&&(u(this.drop,h.classPrefix+"-open")||c(this.drop,h.classPrefix+"-open-transitionend"),this.drop.removeEventListener(y,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(t){var e=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,e=this.options.beforeClose(t,this)!==!1),this.isClosing=!1,e}},{key:"close",value:function(t){this.isOpened()&&this.beforeCloseHandler(t)&&(c(this.drop,h.classPrefix+"-open"),c(this.drop,h.classPrefix+"-after-open"),this.drop.addEventListener(y,this.transitionEndHandler),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),h.updateBodyClasses(),this.options.remove&&this.remove(t))}},{key:"remove",value:function(t){this.close(t),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],n=e.element,o=e.event,r=e.handler;n.removeEventListener(o,r)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,i(O[h.classPrefix],this),i(h.drops,this)}}]),s}(g);return h}var s=Function.prototype.bind,a=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),f=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var f=Object.getPrototypeOf(i);if(null===f)return;t=f,e=r,n=s,o=!0,a=f=void 0}},h=t.Utils,d=h.extend,p=h.addClass,c=h.removeClass,u=h.hasClass,g=h.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},y="";for(var b in v)if({}.hasOwnProperty.call(v,b)){var w=document.createElement("p");"undefined"!=typeof w.style[b]&&(y=v[b])}var x={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},O={},E=r();return document.addEventListener("DOMContentLoaded",function(){E.updateBodyClasses()}),E}),!function(t,e){function n(t,e,n){var o=t.children(),i=!1;t.empty();for(var s=0,a=o.length;a>s;s++){var l=o.eq(s);if(t.append(l),n&&t.append(n),r(t,e)){l.remove(),i=!0;break}n&&n.detach()}return i}function o(e,n,s,a,l){var f=!1,h="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",d="script, .dotdotdot-keep";return e.contents().detach().each(function(){var p=this,c=t(p);if("undefined"==typeof p)return!0;if(c.is(d))e.append(c);else{if(f)return!0;e.append(c),!l||c.is(a.after)||c.find(a.after).length||e[e.is(h)?"after":"append"](l),r(s,a)&&(f=3==p.nodeType?i(c,n,s,a,l):o(c,n,s,a,l)),f||l&&l.detach()}}),n.addClass("is-truncated"),f}function i(e,n,o,i,a){var h=e[0];if(!h)return!1;var p=f(h),c=-1!==p.indexOf(" ")?" ":"　",u="letter"==i.wrap?"":c,g=p.split(u),m=-1,v=-1,y=0,b=g.length-1;for(i.fallbackToLetter&&0==y&&0==b&&(u="",g=p.split(u),b=g.length-1);b>=y&&(0!=y||0!=b);){var w=Math.floor((y+b)/2);if(w==v)break;v=w,l(h,g.slice(0,v+1).join(u)+i.ellipsis),o.children().each(function(){t(this).toggle().toggle()}),r(o,i)?(b=v,i.fallbackToLetter&&0==y&&0==b&&(u="",g=g[0].split(u),m=-1,v=-1,y=0,b=g.length-1)):(m=v,y=v)}if(-1==m||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var O=a&&a.closest(x).length?a.length:0;if(x.contents().length>O?h=d(x.contents().eq(-1-O),n):(h=d(x,n,!0),O||x.detach()),h&&(p=s(f(h),i),l(h,p),O&&a)){var E=a.parent();t(h).parent().append(a),t.trim(E.html())||E.remove()}}else p=s(g.slice(0,m+1).join(u),i),l(h,p);return!0}function r(t,e){return t.innerHeight()>e.maxHeight}function s(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function a(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function f(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function h(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function d(e,n,o){var i,r=e&&e[0];if(r){if(!o){if(3===r.nodeType)return r;if(t.trim(e.text()))return d(e.contents().last(),n)}for(i=h(r);!i;){if(e=e.parent(),e.is(n)||!e.length)return!1;i=h(e[0])}if(i)return d(t(i),n)}return!1}function p(e,n){return!!e&&("string"==typeof e?(e=t(e,n),!!e.length&&e):!!e.jquery&&e)}function c(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],o=0,i=n.length;i>o;o++){var r=parseInt(t.css(n[o]),10);isNaN(r)&&(r=0),e-=r}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var i=this,s=i.contents();i.data("dotdotdot")&&i.trigger("destroy.dot"),i.data("dotdotdot-style",i.attr("style")||""),i.css("word-wrap","break-word"),"nowrap"===i.css("white-space")&&i.css("white-space","normal"),i.bind_events=function(){return i.bind("update.dot",function(e,a){switch(i.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(i[0]);break;default:l.maxHeight=c(i)}l.maxHeight+=l.tolerance,"undefined"!=typeof a&&(("string"==typeof a||"nodeType"in a&&1===a.nodeType)&&(a=t("<div />").append(a).contents()),a instanceof t&&(s=a)),g=i.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var h=!1,d=!1;return f.afterElement&&(h=f.afterElement.clone(!0),h.show(),f.afterElement.detach()),r(g,l)&&(d="children"==l.wrap?n(g,l,h):o(g,i,g,l,h)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(i[0],d,s),f.isTruncated=d,d}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(i[0],f.isTruncated),f.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(i[0],s),s}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),i.unwatch().unbind_events().contents().detach().end().append(s).attr("style",i.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),i},i.unbind_events=function(){return i.unbind(".dot"),i},i.watch=function(){if(i.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),o=e.height();e.bind("resize.dot"+f.dotId,function(){n==e.width()&&o==e.height()&&l.windowResizeFix||(n=e.width(),o=e.height(),d&&clearInterval(d),d=setTimeout(function(){i.trigger("update.dot")},100))})}else h=a(i),d=setInterval(function(){if(i.is(":visible")){var t=a(i);h.width==t.width&&h.height==t.height||(i.trigger("update.dot"),h=t)}},500);return i},i.unwatch=function(){return t(window).unbind("resize.dot"+f.dotId),d&&clearInterval(d),i};var l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),f={},h={},d=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),f.afterElement=p(l.after,i),f.isTruncated=!1,f.dotId=u++,i.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&i.watch(),i},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(t){};var u=1,g=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var m=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):m.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(t){t(".dot-ellipsis").each(function(){var e=t(this).hasClass("dot-resize-update"),n=t(this).hasClass("dot-timer-update"),o=0,i=t(this).attr("class").split(/\s+/);t.each(i,function(t,e){var n=e.match(/^dot-height-(\d+)$/);null!==n&&(o=Number(n[1]))});var r=new Object;n&&(r.watch=!0),e&&(r.watch="window"),o>0&&(r.height=o),t(this).dotdotdot(r)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")}),function(t){t(".drop-menu-item").each(function(){var e=t(this),n=e.find(".drop-target"),o=e.find(".drop-content").html();new Drop({target:n[0],content:o,position:"top center",openOn:"click"})}),t(".primary-header-navigation .menu-item-has-children").each(function(){var e=t(this),n=e.find("> a"),o=e.find("> .sub-menu")[0].outerHTML,i="has-icons",r=e.hasClass(i)?"drop-"+i:"";new Drop({target:n[0],content:o,position:"top center",openOn:"click",classes:r,constrainToWindow:!1})})}(jQuery);