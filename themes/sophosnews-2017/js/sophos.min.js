!function(e){var o=!1;if("function"==typeof define&&define.amd&&(define(e),o=!0),"object"==typeof exports&&(module.exports=e(),o=!0),!o){var n=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=n,t}}}(function(){function e(){for(var e=0,o={};e<arguments.length;e++){var n=arguments[e];for(var t in n)o[t]=n[t]}return o}function o(n){function t(o,i,a){var r;if("undefined"!=typeof document){if(arguments.length>1){if(a=e({path:"/"},t.defaults,a),"number"==typeof a.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}a.expires=a.expires?a.expires.toUTCString():"";try{r=JSON.stringify(i),/^[\{\[]/.test(r)&&(i=r)}catch(c){}i=n.write?n.write(i,o):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),o=o.replace(/[\(\)]/g,escape);var d="";for(var u in a)a[u]&&(d+="; "+u,a[u]!==!0&&(d+="="+a[u]));return document.cookie=o+"="+i+d}o||(r={});for(var p=document.cookie?document.cookie.split("; "):[],g=/(%[0-9A-Z]{2})+/g,l=0;l<p.length;l++){var f=p[l].split("="),h=f.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var m=f[0].replace(g,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(g,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(c){}if(o===m){r=h;break}o||(r[m]=h)}catch(c){}}return r}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(o,n){t(o,"",e(n,{expires:-1}))},t.withConverter=o,t}return o(function(){})});var Sophos=Sophos||{};!function(e,o){e.Utils=e.Utils||{},e.Utils.virginise=function(e){e.focus(function(){var e=o(this);e.hasClass("virgin")&&(e.data("default",e.val()),e.removeClass("virgin").val(""))}),e.blur(function(){""===e.val()&&e.addClass("virgin").val(e.data("default"))})},e.Utils.isEmailAddress=function(e){return e.indexOf("@")>0},e.Utils.isSophosWordpressURL=function(e){return/https?:\/\/[^\.]+\.sophos\.com\/[0-9]{4}\/[0-9]{2}\/[0-9]{2}\/[^\/]+\/?(?:\?[^\/]+)?$/.test(e)},e.Utils.QueryString=function(o){for(var n=o||location.search,t=n.slice(n.indexOf("?")+1).split("&"),i=e.Utils,a=0;a<t.length;a++){var r=t[a].split("=");this[r[0]]=i.cast(r[1])||""}},e.Utils.cast=function(e){if("undefined"!==e)try{return JSON.parse(e)}catch(o){return e}},e.Utils.uuid=function(){for(var e={},o=[],n=0;n<256;n++)o[n]=(n<16?"0":"")+n.toString(16);return e.generate=function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return o[255&e]+o[e>>8&255]+o[e>>16&255]+o[e>>24&255]+"-"+o[255&n]+o[n>>8&255]+"-"+o[n>>16&15|64]+o[n>>24&255]+"-"+o[63&t|128]+o[t>>8&255]+"-"+o[t>>16&255]+o[t>>24&255]+o[255&i]+o[i>>8&255]+o[i>>16&255]+o[i>>24&255]},e}()}(Sophos=window.Sophos||{},jQuery);var Sophos=Sophos||{};!function(e,o){e.Campaign=e.Campaign||{},e.Campaign.defaultCampaignId=0,e.Campaign.getCampaignId=function(o){var n=new Sophos.Utils.QueryString(o),t=Sophos.Utils.cast(Cookies.get("CampaignID")),i=/^[a-zA-Z0-9]+$/,a=t&&"undefined"!=typeof t&&i.test(t)?t:e.Campaign.defaultCampaignId;return n&&n.cmp&&i.test(n.cmp)?n.cmp:a},e.Campaign.setCookie=function(o){Cookies.set("CampaignID",e.Campaign.getCampaignId(o),{domain:window.location.hostname.replace(/^(?:blogs|news|nakedsecurity)\d?(\..+)$/,"$1"),expires:180,path:"/"})}}(Sophos,jQuery),function(e,o){e.Partner=e.Partner||{},e.Partner.setCookie=function(){var o=e.Utils,n=new o.QueryString,t=o.cast(Cookies.get("SOPHOS_PARTNERID"));if(!t){var i=/^[\-a-zA-Z0-9]{1,18}$/;n.id&&i.test(n.id)&&Cookies.set("SOPHOS_PARTNERID",n.id,{domain:window.location.hostname.replace(/^(?:blogs|news|nakedsecurity)\d?(\..+)$/,"$1"),expires:null,path:"/"})}}}(Sophos,jQuery),function(e,o){e.GA=e.GA||{},e.GA.trackPageView=function(e,o,n){void 0!==o&&window._gaq.push(["_set","title",o]),void 0!==n&&Sophos.Utils.isSophosWordpressURL(n)&&window._gaq.push(["_setReferrerOverride",n]),window._gaq.push(["_trackPageview",e])},e.GA.setUpPDFTracking=function(){o(".entry-content a[href]").each(function(e,n){var t=o(n),i=t.attr("href"),a=t.attr("title")||t.text(),r=i.match(/https?:\/\/[^\.]+\.sophos\.com(\/.*?\.pdf(?:\?[^\/]+)?)$/);if(r){var s=r.pop();t.on("click",function(e){e.preventDefault(),Sophos.GA.trackPageView(s,a,window.location.href),Sophos.Campaign.setCookie(s),window.setTimeout(function(e){window.location.href=e},250,i)})}})}}(Sophos,jQuery);var sophosGaGuidStore={};sophosGaGuidStore.processGaToken=function(e){var o={cookieName:"gaGuid",cookieExpiryDays:730,cookieDomain:window.location.hostname.replace(/^(?:blogs|news|nakedsecurity)\d?(\..+)$/,"$1"),cookiePath:"/",slidingExpiration:!1,queryStringArg:"gaguid",useGoogleVid:!1,trackerName:"",gaIndex:5,gaCustomVarName:"GaGuid",gaScope:1,gaNamespace:"",gaAccount:"",outputDebug:!1},n={};jQuery.each(o,function(o,t){e&&e.hasOwnProperty(o)?n[o]=e[o]:n[o]=t});var t=function(e,o){window&&window.console&&window.console.info&&n.outputDebug&&window.console.info("Sophos GA Guid: "+e,o)},i=function(e,o){window&&window.console&&window.console.error&&window.console.error("Sophos GA Guid: "+e,o)};t("Config used",n);var a=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o="[\\?&]"+e+"=([^&#]*)",n=new RegExp(o),t=n.exec(window.location.href);return t?decodeURIComponent(t[1].replace(/\+/g," ")):""};if(!jQuery||!Cookies)return void i("Missing dependencies. Could not load the Ga Guid token. Check jQuery, Cookies and GA.");var r=function(){var e=Cookies.get("__utma");return e?e.split(".")[1]:""},s=function(){for(var e={},o=[],n=0;n<256;n++)o[n]=(n<16?"0":"")+n.toString(16);return e.generate=function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return o[255&e]+o[e>>8&255]+o[e>>16&255]+o[e>>24&255]+"-"+o[255&n]+o[n>>8&255]+"-"+o[n>>16&15|64]+o[n>>24&255]+"-"+o[63&t|128]+o[t>>8&255]+"-"+o[t>>16&255]+o[t>>24&255]+o[255&i]+o[i>>8&255]+o[i>>16&255]+o[i>>24&255]},e}(),c=function(){if(n.useGoogleVid){if("undefined"!=typeof window._gaq){var e=r();return e?(t("Successfully found visitor code. "+e),e):(t("Visit code was empty. Using uuid."),s.generate())}return t("Failed to find _gaq variable. Using Uuid."),s.generate()}return t("Uuid used for gaGuid as config stated false for useGoogleVid"),s.generate()},d=function(e){Cookies.set(n.cookieName,e,{expires:n.cookieExpiryDays,path:n.cookiePath,domain:n.cookieDomain})},u=function(e,o,i){var a=n.gaNamespace?n.gaNamespace+".":"";window._gaq=window._gaq||[],t("Inserting custom variable _setCustomVar value "+i+" into gaq."),window._gaq.push([a+"_setCustomVar",e,o,i,n.gaScope],[a+"_trackEvent","GA Inject","Set Variable",void 0,void 0,!0])};!function(){switch(navigator.msDoNotTrack||navigator.doNotTrack||0){case 1:case"yes":return void t("Not tracking this user because their Do Not Track preference is set")}var e=a(n.queryStringArg);if(""!==e)d(e),u(n.gaIndex,n.gaCustomVarName,e);else if("undefined"!=typeof Cookies.get(n.cookieName))t("Cookie defined - adding guid to gaq"),u(n.gaIndex,n.gaCustomVarName,Cookies.get(n.cookieName));else{var o=c();t("Generated uuid = "+o),d(o),u(n.gaIndex,n.gaCustomVarName,o),t("Cookie set with UUID "+o)}}()},function(e,o){e.Ad=e.Ad||{},e.Ad.setupAdTracking=function(e){var n=e?e+".":"";o("aside.sophos-inline-ad").each(function(e){var t=o(this),i=t.find("[data-ga-label]").data("ga-label")||"",a=t.find("a").first(),r=[i,a.attr("href")].join(" - ");t.find("a").on("click",function(){window._gaq.push([n+"_trackEvent","Inline Ad","Click",r])}),window._gaq.push([n+"_trackEvent","Inline Ad","View",r])})}}(window.Sophos=window.Sophos||{},jQuery);var Sophos=Sophos||{};!function(e,o){window._gaq=window._gaq||[],e.Campaign=e.Campaign||{},e.Campaign.defaultCampaignId="70130000001xKqzAAE",e.Campaign.setCookie(),e.Partner.setCookie(),o(e.GA.setUpPDFTracking),o(function(){e.Ad.setupAdTracking(void 0)}),window._gaq.push(["_setAccount","UA-737537-1"],["_setDomainName",".sophos.com"],["_setAllowLinker",!0],["_setAllowHash",!1],["_setCustomVar",4,"CampaignID",Sophos.Campaign.getCampaignId(),3],["_trackPageview","/corpblog"+window.location.pathname+window.location.search]),window._sophosLocalAnalytics&&"UA-"===window._sophosLocalAnalytics.substring(0,3)&&window._gaq.push(["local._setAccount",window._sophosLocalAnalytics],["local._trackPageview"]),o(function(){try{window.sophosGaGuidStore.processGaToken({useGoogleVid:!0,outputDebug:!1,gaScope:1,gaAccount:"UA-737537-1"})}catch(e){}}),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}();var n=n||[];n.push(["elqSetSiteId","1777052651"]),n.push(["elqTrackPageView"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//img03.en25.com/i/elqCfg.min.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}()}(Sophos,jQuery);